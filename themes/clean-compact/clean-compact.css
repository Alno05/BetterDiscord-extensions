//META{"name":"CleanCompact","description":"A dark, compact layout for those who like to save some space","author":"kettui","version":"1.8.1"}*//

/*
    Changelog
    ---------
    v1.5.0 (April 3rd 2016): Initial release
    v1.5.x: Bug fixes, small improvements all-around
    v1.5.4: Changed bg image
    v1.5.6: Support for the new search
    v1.5.7: Minor bugfixes
    v1.5.8: Embed fixes
    v1.6.0 (May 5th 2017): New & improved look - less borders, more background shades.
    v1.6.1 Cozy mode improvements
    v1.6.2 Fixed memberlist loading indicator, other small tweaks
    v1.6.3 Embed fixes (cozy mode paddings), message timestamp lineheight fix, modal font sizes
    v1.6.4 @mentioned highlight improvements, invitation button bg color
    v1.6.5 Tweaks with comment blocks etc. background colors
    v1.6.6 Friends online badge fix, divider changes
    v1.6.7 Code block improvements, bring back red "new messages" divider
    v1.6.8 Fix random flickering effect when hovering over chat
    v1.7.0 (June 8th 2017) Quick fixes to the new guild channel list update
    v1.7.1 (June 18th 2017) More channel list fixes
    v1.7.2 (July 22nd 2017) Message input area fixes
    v1.7.3 (August 10th 2017) Fix a selector to hide the member "Playing" label again
    v1.7.4 (October 27th 2017) Fix breaking changes
    v1.7.5 (November 6th 2017) Fix unread indicator, minor improvements to guild channel styles
    v1.7.6 (November 8th 2017) Fix member heights
    v1.7.7 (January 17th 2018) Fix typing indicator & member list bot tag
    v1.7.8 (February 2nd 2018) Fix Spotify invitation embed (and other embeds in general), fix background color in group call, adjust additional info indicator icon @ member list, fix annoying "NEW UNREADS" indicator that was slightly visible even though there were no new messages
    v1.7.9 (April 1st 2018) Fix member list selectors, fix message timestamp and bot tag font size & position
    v1.7.10 (April 5th 2018) Second round of member list selector fixes, public server button font-size adjustment
    v1.7.11 (May 5th 2018) Fix `members` tab in guild settings
    v1.7.12 (June 16th 2018) Fix guild icons
    v1.7.13 (June 16th 2018) Fix DM notification icon, fix Spotify "listening along" area (or hide most of it)
    v1.7.14 (June 21th 2018) Member list selector fixes
    v1.8.0 (June 23rd 2018) Added activity feed support, friends tab DM list fixes
    v1.8.1 (June 23rd 2018) Embed fixes, fixes related to the bottom left section (user avatar, currently connected voice info, etcetc.)
 */


/******************************** General ********************************/

    /**
     * Common font sizes
     */

    /* General */
    a, abbr, acronym, address, applet, big, blockquote, body, caption, cite, code, dd, del, dfn, div, dl, dt, em, fieldset, form, h1, h2, h3, h4, h5, h6, html, iframe, img, ins, kbd, label, legend, li, object, ol, p, pre, q, s, samp, small, span, strike, strong, sub, sup, table, tbody, td, tfoot, th, thead, tr, tt, ul, var, .modal *, .chat .new-messages-bar button:first-child {
        font-size: 15px !important;
        /* Fixes random flickering effect */
        backface-visibility: hidden !important;
    }

    /* Message timestamp */
    .message-group.compact .markup:not([class*='embed']) span.timestamp,
    .message-group h2 span.timestamp {
        font-size: 0.8rem !important;
    }
    .message-group.compact .markup:not([class*='embed']) span.timestamp {
        position: relative;
        top: -3px;
    }
    /* Message (sender, content) */
    .message-text .markup:not([class*='embed']) span,
    .message-text .markup:not([class*='embed']) .user-name { font-size: 15px !important; }

    .app > .flex-spacer,
    #friends .friends-table .friends-table-body { background: rgb(17,17,17) !important; }

    /**
     * Background colors
     */

    /* Container transparency */
    .links,
    .chat,
    div[class^='typing'],
    .content,
    div[class^='content'],
    .da-channels,
    .private-channels,
    .divider,
    .divider-red span,
    .messages-wrapper,
    .rtc-connection-status,
    .channel-textarea textarea,
    .friends-table,
    .private-channels .channel.selected,
    .da-activityFeed,
    .messages-wrapper .messages .da-embedInner,
    .guilds-add {
        background: transparent !important;
        background-color: transparent !important;
    }

    .account,
    .account .btn,
    .rtc-connection-status .btn,
    .help-container,
    .messages-wrapper .messages .divider span {
        background: transparent !important;
        background-color: transparent !important;
        box-shadow: none;
    }

    /* Chat section header, server list */
    .guilds-wrapper {
        background: rgb(32,32,32) !important;
        /*border-bottom: 1px solid #1c1e22 !important;*/
    }

    .chat div[class^='titleWrapper'] > div {
        background: rgb(27,27,27) !important;
    }

    /* Text / voice channels, friends tab content area */
    .da-channels > div:first-of-type,
    #friends {
        background: rgb(22,22,22) !important;
    }

    /* Chat */
    .content .flex-spacer { background: rgb(17,17,17); }

    /* Channel user list */
    .da-membersWrap div[class*='members-'] { background: rgb(22,22,22) !important; }

    /* Channel use list loading indicators */
    .channel-members-loading { background: rgba(35,35,35,0.2) !important; }
    .channel-members-loading .member,
    .channel-members-loading .heading { background-image: none !important; }

    .guild-header ul { opacity: 0; top: 54px; }

    /* Channel, user etc. hover effect */
    .private-channels .channel:hover,
    .da-channels .channel-text:hover,
    .da-channels .channel-voice .channel-arrow:hover,
    #friends .friends-table .friends-row:hover {
        background: rgba(255,255,255,0.02) !important;
    }

    /* Scroller */
    /* Scroller piece */
    .scroller-wrap .scroller::-webkit-scrollbar-thumb {
        border-color: rgb(17,17,17) !important;
        background: rgb(30,30,30) !important;
    }

    /* Whole bar */
    .scroller-wrap .scroller::-webkit-scrollbar-track-piece {
        background-color: transparent !important;
        border-color: transparent !important;
    }


/******************************** Server list ********************************/


    /* Wrapper / container */
    .guilds-wrapper {
        width: 60px;
        transition: width 150ms;
        /*border-right: 1px solid #1c1e22;*/
    }
    .guilds-wrapper .guilds {
        width: 60px;
        padding: 14px 9px;
        overflow-x: hidden;
        position: relative;
    }

    #bd-pub-li .guild-inner a { border-color: transparent !important; }
    .guilds .guild .badge {
        z-index: 3;
        border-radius: 10px;
        font-size: 9px !important;
        padding: 6px 5px 6px 4px;
        line-height: 0px;
        left: 1px;
        top: 29px;
        right: initial !important;
        text-align: center;
        color: #fff;
        opacity: 0.8;
        font-weight: 600;
    }
    .guilds .guild:not(:first-of-type) .badge,
    .guilds .dms .guild .badge {
        opacity: 1;
        left: 27px;
    }

    .guilds .guild .da-avatarWrapper {
        z-index: 2;
    }

    /* Server buttons */
    .guilds .friends-online {
        font-size: 10px !important;
        width: 15px !important;
        height: 13px !important;
        text-indent: 3px;
        position: absolute;
        overflow: hidden;
        top: 30px;
        left: 33px;
        background: #738BD7;
        color: white !important;
        border-radius: 5px;
        word-spacing: 7px;
        opacity: 0.8;
        border: 2px solid rgb(40, 40, 40);
        z-index: 2;
    }

    .guilds-error { width: 35px; height: 35px; line-height: 32px; margin-left: 3px; }
    .guilds .guild, .guilds .guild .guilds-error { width: 35px !important; height: 35px !important; line-height: 35px !important; background-size: 35px 35px !important; }
    .guilds .guild:first-of-type:hover ~ .friends-online, .guilds .guild:first-of-type.active ~ .friends-online { opacity: 1; }
    .guilds .guild .da-avatarWrapper { width: 35px !important; height: 35px !important; background-size: 35px 35px !important; }
    .guilds .guild .guild-inner a {
        width: 35px !important;
        height: 35px !important;
        border-radius: 50% !important;
        background-size: 35px 35px !important;
        overflow: hidden;
        border: 2px solid rgba(255,255,255,0.15);
        position: relative;
    }
    .guilds-wrapper .guilds .guild-icon {
        width: 35px !important;
        height: 35px !important;
        border-radius: 50% !important;
    }
    .guilds .friends-icon {
        width: 25px !important;
        height: 25px !important;
        background-size: 25px 25px !important;
        top: 7px;
        left: 5px;
        position: relative;
        z-index: 2;
    }

    .guilds .guild .guild-inner {
        line-height: 35px !important;
        border-radius: 50% !important;
        background: transparent !important;
        width: 45px;
        overflow: visible;
    }
    .guilds-wrapper .guilds .guild.audio .guild-inner:after {
        left: 8px;
        bottom: 5px;
        background-size: 16px;
        right: initial;
        top: initial;
        z-index: 2;
    }

    .guilds-wrapper .guild-separator { height: 8px !important; }
    .guilds-wrapper .guild-separator:after {
        background: rgba(115,139,215,0.4);
        left: 10%;
        right: 35%;
    }

    .guilds-add {
        font-size: 25px !important;
        line-height: 50% !important;
        margin: 5px 0 0 2px;
    }

    .guilds .audio .guild-inner::after {
        width: 18px;
        height: 18px;
    }

    .guilds-wrapper .guilds .guild+.guild { margin-top: 10px; }
    .guilds-wrapper .guilds .guild.selected:before { display: none; }

    .guilds .guild-inner::before {
        content: " ";
        position: absolute;
        height: 42px !important;
        width: 16px;
        padding-left: 29px;
        padding-right: 5px;
        background: transparent !important;
        margin-top: 0 !important;
        top: -1px;
        left: -70px !important;
        border-radius: 0 21px 21px 0 !important;
        transition: left 250ms; transition: padding 250ms;
    }

    .guilds .guild:hover .guild-inner::before {
        left: -45px !important;
        padding-right: 42px;
        margin-top: 0;
        border-radius: 0 20px 20px 0;
        background: rgba(115, 139, 215, 0.2) !important;
    }

    .guilds .guild.selected .guild-inner a { border-color: #E2E2E2; }
    .guilds .guild.selected .guild-inner::before {
        left: -45px !important;
        padding-right: 41px;
        border-radius: 0 20px 20px 0;
        background: #738bd7 !important;
        transition: background 350ms;
    }

    .guilds .guild.unread:not(.active) .guild-inner::after {
        content: "\01F4AC";
        position: absolute;
        z-index: 2;
        top: -15px !important;
        right: -14px;
        color: white;
        background: none !important;
        width: initial;
        height: initial;
        text-shadow: -2px 4px 0px #000;
        animation-name: zoomAppear;
        animation-duration: .2s;
        animation-iteration-count: 1;
        animation-timing-function: ease-in-out;
    }

    /* Help button @ bottom left corner */
    .help-container::after { background: none; }


/************************* Text/voice channel section *************************/

    .da-channels {
        width: 130px !important;
        /*border-right: 1px solid #1c1e22;*/
        transition: width 150ms;
        position: relative;
    }

    .da-channels .ui-scroller-wrap { width: 143px !important; }

    .private-channels .search-bar {
        padding: 15px;
        box-shadow: none;
        /*border-bottom: 1px solid #1c1e22;*/
        box-sizing: border-box;
    }

    .da-channels > div:first-of-type > div:first-of-type header,
    .private-channels .search-bar {
        height: 48px;
        background: rgb(27,27,27) !important;
        border-bottom: none;
    }
    
    .private-channels .channel,
    .private-channels .channel a {
        height: auto !important;
    }
    
    .private-channels .channel a:hover .channel-activity-text {
        max-height: auto !important;
    }

    .private-channels .channel .channel-activity-text {
        text-overflow: initial;
        white-space: initial;
        width: 80px;
    }
    
    .guild-header header span {
        white-space: normal;
        line-height: 100%;
    }

    .da-channels div[class^='scroller-'] {
        overflow-x: hidden !important;
        margin-right: -7px;
    }
    .da-channels div[class^='scroller-'] > div[class^='wrapperDefault'] {
        height: 35px;
        padding-top: 16px;
        padding-left: 13px;
    }
    .da-channels div[class^='scroller-'] > div[class^='wrapperDefault'] svg {
        width: 12px;
        height: 12px;
        left: 3px;
        position: relative;
        top: 2px;
    }

    /* TEXT-CHANNELS, VOICE-CHANNELS labels */
    .da-channels > div[class^='wrapperDefault'] {
        height: 45px;
        padding-top: 23px;
        padding-left: 14px;
    }

    .da-channels > div[class^='wrapperDefault'] div[class^='nameDefault'] {
        line-height: 19px;
    }

    .da-channels div[class^='content'] {
        margin: 0;
        padding: 0 5px;
    }
    .da-channels div[class^='contentSelectedText'] {
        background: rgb(27,27,27);
    }
    .da-channels div[class^='contentHoveredText'] {
        background: rgb(32,32,32);
    }
    .da-channels div[class^='containerDefault'] > div:nth-child(2) {
        padding-left: 5px;
    }

    .da-channels div[class^='content'] .margin-reset { color: #738bd7 !important; }
    .da-channels .channel-text .badge {
        margin-left: -15px;
        position: absolute;
        right: 22px;
    }

    .da-channels .channel-text a {
        padding: 6px;
        box-sizing: border-box;
    }
    .da-channels header {
        padding: 0 5px;
        margin: 0;
        text-align: center;
    }
    .da-channels header:nth-of-type(2) {
        margin: 15px 0 0;
    }
    .da-channels header span {
        white-space: nowrap;
    }
    .da-channels .private-channels header {
        margin: 10px 0;
    }

    .da-channels div[class^='wrapperUnreadText']::before {
        content: "\01F4AC";
        background: none;
        width: 0;
        height: 0;
        border: none;
        opacity: 1;
        position: absolute;
        left: initial;
        right: 20px;
        top: 6px;
        animation-name: zoomAppear;
        animation-duration: .2s;
        animation-iteration-count: 1;
        animation-timing-function: ease-in-out;
    }

    .da-channels div[class^='unread-'] {
        display: none;
    }

    .guild-header ul a { margin: 0; }
    .guild-header.guild-header-open ul {
        opacity: 1;
        background: rgba(0,0,0,0.98);
        border-bottom: 1px solid #1c1e22;
    }

    .rtc-connection-status {
        white-space: nowrap;
    }
    .rtc-connection-status .ping {
        flex-shrink: 0;
    }
    .rtc-connection-status .da-channel {
        font-size: 12px !important;
    }

    .da-channels > div[class^='container']:nth-child(2):not(:last-child) {
        position: relative;
        overflow: hidden;
    }
    .da-channels > div[class^='container']:nth-child(2):not(:last-child) > div:nth-child(2) {
        background: rgb(27,27,27);
        position: absolute;
        padding: 10px 7px 9px 5px;
        right: -75px;
        transition: right 150ms;
        overflow: hidden;
        z-index: 2;
        bottom: initial;
        top: 0;
    }
    .da-channels > div[class^='container']:nth-child(2):not(:last-child):hover div:nth-child(2),
    .da-channels > div[class^='container']:nth-child(2):not(:last-child) div:nth-child(2):hover {
        right: 0;
    }
    .btn {
        width: 22px;
        height: 22px;
    }
    .btn {
        margin-right: 0;
    }

    .da-channels > div[class^='container'] {
        background: rgb(27,27,27) !important;
        border-bottom: none;
    }

    div[class^='listeningAlong-'] {
        background: rgb(27,27,27) !important;
        padding: 6px !important;
    }

    /* "Listening along on Spotify" */
    div[class^='listeningAlong-'] > div:nth-of-type(1) {
        display: none;
    }

    /* Listeners */
    div[class^='listeningAlong-'] > div:nth-of-type(2) {
        justify-content: flex-start;
    }

    /* Aka the previous account info/settings container at the bottom of channel list */
    .da-channels > div:last-of-type {
        height: 68px !important;
        padding: 0 2px 12px !important;
        align-items: flex-end !important;
        border-top: none;
        margin-bottom: 0;
    }
    .da-channels > div:last-of-type div[class^='avatar'] {
        margin-left: 5px;
        display: block !important;
    }
    .da-channels > div:last-of-type > div:last-of-type {
        position: absolute;
        left: 0;
        bottom: 46px;
        /*border-bottom: 1px solid #1c1e22 !important;*/
        width: 130px;
        border-radius: 0;
        justify-content: space-around;
        display: flex;
        padding-left: 2px;
    }

    .da-channels > div:last-of-type .btn, .rtc-connection-status .btn {
        box-shadow: none !important;
        border-right: 0 !important;
    }

    .da-channels .da-accountDetails .username {
        font-size: 14px !important;
    }
    .da-channels .da-accountDetails .discriminator {
        font-size: 12px !important;
        opacity: 0.5;
    }
    .da-channels .da-accountDetails .discriminator:hover {
        opacity: 1;
    }

    .links { padding: 75px 10px 20px; }
    
    /* "NEW UNREADS" indicator */
    div[class^='unread'] > div {
        font-size: 12px !important;
    }


/******************************* Top bar (channel name, description, buttons, search etc.) *******************************/


    .chat div[class^='titleWrapper'] .header-toolbar { position: relative; }

    .chat div[class^='titleWrapper'] .header-toolbar button {
        background: transparent;
        width: 25px;
        height: 25px;
        margin-top: 2px;
    }

    .chat .header-toolbar button:first-of-type {
        margin-right: 7px;
    }

    .chat .header-toolbar button:first-of-type:after {
        content: " ";
        border-right: 1px solid hsla(0,0%,85%,.1);
        position: absolute;
        width: 1px;
        height: 75%;
        left: 30px;
        top: 4px;
    }

    .chat div[class^='titleWrapper'] .header-toolbar button span {
        width: 25px;
        height: 25px;
        background-size: 23px;
    }

    .search .search-bar {
        background-color: rgb(35,35,35) !important;
    }

    .search-bar .search-bar-inner {
        width: 100px;
    }

    .win-buttons {
        right: 12px;
    }


/******************************* Text chat section *******************************/

    /* Bottom chat area (the padded container including the input box and typing indicator) */
    .chat form {
        margin: 0;
        padding: 0 17px;
        background: rgb(22,22,22) !important;
        border-top: none !important;
		box-shadow: none !important;
    }

    /* Input box */
    .chat form > div:first-child { margin: 10px 0 26px; }
    .chat form > div:first-child textarea { font-size: 15px !important; }
    .chat form > div:first-child > div:first-child { background-color: rgb(27,27,27); }
    .chat form div[class^='typing'] { padding-left: 20px; }

    /* Message section header */
    .chat > div[class^='titleWrapper'] > div {
        min-height: 48px;
        box-shadow: none;
        border-bottom: none !important;
    }
    .chat div[class^='titleWrapper'] div[class^='titleText'] { color: #fff; }
    .chat > div[class^='titleWrapper'] > div > div[class^='title'] .channel-name::before { color: #738BD7; }
    .chat .jump-to-present-bar { background-color: rgb(47,47,47) !important; }
    .chat .jump-to-present-bar:hover { background-color: rgb(57,57,57) !important; }
    .chat .jump-to-present-bar button { color: #FFF !important; }

    /* Message textarea */
    .channel-textarea { margin: 10px 0 30px; }
    .channel-textarea-inner { background-color: hsla(0,0%,100%,.04) !important; border-color: rgba(255, 255, 255, 0.04); }
    .channel-textarea-inner textarea { color: hsla(0,0%,100%,.7); font-size: 1rem !important; }
    .channel-textarea-upload { border-color: #1c1e22; }

    /* Message styling */
    .message-group {
        padding: 5px 0;
        margin-left: 15px;
        margin-right: 0;
        border-bottom: none;
        overflow: hidden;
    }

    .message-group .comment { margin-right: 5px; }
    .message-group .message { position: relative; }
    .message-group.compact { margin-left: 5px; }
    .message-group.compact .comment .markup:not([class*='embed']) {
        padding-left: 75px;
        text-indent: -75px;
    }
    .message-group span[class^='botTag'] {
        font-size: 0.8rem !important;
    }
    .message-group.compact span[class^='botTag'] {
        margin: 2px 3px 0 0 !important;
        line-height: 20px;
        font-size: 0 !important;
    }
    .message-group .comment .markup:not([class*='embed']) {
        min-height: 25px;
        line-height: 25px;
        color: rgba(255, 255, 255, 0.7);
        margin-top: 0;
    }
    .message-group.compact .comment .markup:not([class*='embed']) { margin-bottom: 0; }
    .message-group .da-embed,
    .message-group .game-invite-embed { background: rgb(22,22,22); border: none !important; }
    .message-group .da-embedField .markup { margin-top: 0; }

    .message-group .game-invite-embed {
        height: auto;
        padding: 10px;
    }
    
    .message-group .message .markup:not([class*='embed']) a { white-space: pre; }
    .message-group .mentioned .message-text { background: rgb(27,27,27) !important; }

    .message-group .avatar-large {
        margin-top: 0;
        margin-right: 12px;
        width: 30px;
        height: 30px;
        background-size: 30px 30px;
    }

    .message-group.compact .accessory { padding-left: 70px; }
    .popout .message-group.compact .accessory {
        padding-left: 10px;
        margin-left: 0;
        margin-right: 0;
    }
    .popout .message-group .accessory {
        padding-left: 10px;
        margin-left: -55px;
        margin-right: -10px;
    }
    .message .btn-option { position: relative; z-index: 3 !important; }

    .reaction { background: rgb(27,27,27) !important; transition: background 150ms; }
    .reaction:hover { background: rgb(37,37,37) !important; }

    /* Emote menu */
    .channel-textarea-emoji > .sprite-item {
        background-image: url(https://static-cdn.jtvnw.net/emoticons/v1/81249/1.0) !important;
        transform: scale(0.8);
        opacity: 0.8;
        transition: all 150ms;
        width: 30px;
        height: 30px;
        background-size: 30px 30px !important;
        background-position: initial !important;
    }
    .channel-textarea-emoji.popout-open > .sprite-item,
    .channel-textarea-emoji > .sprite-item:hover {
        background-image: url(https://static-cdn.jtvnw.net/emoticons/v1/81248/1.0) !important;
        transform: scale(1) !important;
        opacity: 1;
    }

    /* Emoji */
    .markup:not([class*='embed']) .emoji {
        height: 25px !important;
        width: 25px !important;
        line-height: 25px !important;
        margin: -5px .05em -5px .1em !important;
    }

    /* Expanded description */
    .chat div[class^='titleWrapper'] .topic .topic-full {
        background-color: rgba(0,0,0,0.98) !important;
        border-bottom: none;
        box-shadow: none;
    }

    /* Chat @mention highlight */
    .message-group .mentioned.first .message-text { margin-top: 5px !important; }
    .message-group.compact .mentioned.first .message-text { margin-top: 0 !important; }
    .message-group .mentioned .message-text {
        padding: 1px 3px !important;
        border-radius: 2px;
        border: solid #faa61a;
        border-width: 0 4px 0 0;
    }

    .chat .divider { height: 10px !important; }
    .chat .divider > div { background: #474a4f; }
    .chat .messages-wrapper, .chat .messages-wrapper .scroller-wrap { padding-bottom: 3px; }
    .messages-wrapper .messages .divider div { background: rgb(47,47,47) !important; }
    .messages-wrapper .messages .divider.divider-red>div { background: #f04747 !important; }
    .friends-table .messages .divider:before, .friends-table .messages .divider span, .messages-wrapper .messages .divider:before, .messages-wrapper .messages .divider span { background-color: transparent !important; }
    .message-group .comment .markup:not([class*='embed']) pre {
        background: rgb(27,27,27) !important;
        border-color: rgb(27,27,27) !important;
        display: inline-block;
        margin-top: -11px !important;
        position: relative !important;
        bottom: -9px !important;
    }
    .message-group .markup:not([class*='embed']) pre code {
        background: transparent !important;
    }
    .messages-wrapper .messages .da-embed {
        border-color: rgb(47,47,47) !important;
    }

    /* Messages from blocked people */
    .friends-table .messages .message-group-blocked,
    .messages-wrapper .messages .message-group-blocked {
        display: none;
    }

    /**
     * Twitch emotes
     * Absolute positioning to avoid having to scroll when new messages have emotes
     */
    img.emote {
        position: absolute;
        bottom: -10px;
        max-height: 28px;
    }

    .emotewrapper { line-height: 8px; }

    /* to avoid clipping */
    .emotewrapper::before {
        content: " ";
        display: block;
        width: 28px;
    }

    /* Spoiler messages */
    .spoiler { line-height: 0; }
    .spoiler > span {
        display: flex;
        position: relative;
        top: -21px;
        max-height: 25px;
    }

    .spoiler::before {
        position: absolute;
        background: rgba(0,0,0,0.7);
        border-radius: 6px;
        border: 1px solid rgba(255,255,255,0.2);
        height: 25px;
        min-height: 25px;
        width: 100%;
        line-height: 25px;
        padding-top: 0;
        top: 15px;
    }

    .compact .spoiler:before {
        width: 86%;
        top: 0;
    }

    /* Highlight */
    .highlight { background: #1c1e22; }

    /* Compact message styling */
    .message-group.compact { padding: 0 !important; }
    .message-group.compact .message { margin: 3px 0; line-height: 25px; }
    .message-group.compact .timestamp { line-height: 15px !important; color: #d1d9de; }
    .message-group.compact .timestamp:hover { color: #99aab5 !important; }

    /* Embedded previews etc */
    .message-group.compact .da-embed { padding: 0; }
    .message-group.compact .da-embed .da-embedAuthor,
    .message-group.compact .da-embed .da-embedTitle,
    .message-group.compact .da-embed .da-embedProvider,
    .message-group.compact .da-embed .da-embedFieldName {
        margin-bottom: 0 !important;
    }

    .da-embed {
        padding: 12px 10px 8px;
        background-color: rgb(22,22,22) !important;
    }
    .message-group .da-embed-wrapper .da-embedPill { background-color: rgb(87,87,87); }
    .da-embed .da-embedProvider,
    .da-embed .da-embedAuthor,
    .da-embed .da-embedTitle,
    .da-embed .da-embedFieldName,
    .da-embed .da-embedFieldValue,
    .da-embed .da-embedDescription {
        font-size: 13px !important;
    }
    .da-embed .da-embedDescription {
        padding-left: 0 !important;
        text-indent: 0 !important;
    }

    .da-embed .da-embedDescription a { display: block !important; }
    .da-embed .da-embedDescription { color: hsla(0,0%,100%,.6); }

    .da-embed .image { margin: auto !important; }
    .da-embed .da-embedContent { margin-bottom: 10px; }
    .da-embed .da-embedFields .da-embedField .da-embedFieldName { margin-bottom: -5px; }
    .da-embed .da-embedFields .da-embedField { padding-top: 0; }
    .da-embed .da-embedThumbnail { margin-top: 5px; }

    .da-embed .emoji {
        min-height: 18px;
        min-width: 18px;
        margin: 1px .05em 1px .1em !important;
    }

    .invite-button {
        background-color: rgb(27,27,27) !important;
        border-color: rgb(27,27,27) !important;
    }


/****************************** Server user list section ******************************/

    .header-toolbar .separator.separator-win { margin-right: 103px; }

    .da-membersWrap div[class*='members-'] {
        width: 105px;
        min-width: 0 !important;
        padding: 0;
        overflow-x: hidden;
        transition: width 150ms;
        /* Workaround for Discord's lazy rendering (rendering calculations are based on the original container height, so some members would not render since the containers are smaller with this theme) */
        padding-bottom: 125px !important;
    }

    .da-membersWrap {
        width: 110px;
        min-width: 0 !important;
        display: flex !important;
        /*border-left: 1px solid #1c1e22;*/
        transition: width 150ms;
    }

    /* Channel's user list group labels */
    .da-membersGroup {
        position: relative;
        padding: 0 0 2px 0;
        width: 100px;
        letter-spacing: .001em;
        border-bottom: 1px solid #738bd7;
        margin-left: 7px;
        transition: width 150ms;
        display: inline-flex;
        white-space: nowrap;
        margin-top: 18px;
        height: auto;
        font-size: 0.85rem !important;
        margin-bottom: 0.5em;
    }
    .da-membersGroup:hover {
        white-space: normal;
    }

    .da-membersWrap div[class*='members-'] div[class^='memberO'] .da-activityText ,
    .private-channels .channel .channel-activity-text {
        font-size: 0px !important;
    }
    .da-membersWrap div[class*='members-'] div[class^='memberO'] .da-activityText strong,
    .private-channels .channel .channel-activity-text strong {
        white-space: normal;
        font-size: 9px !important;
        max-height: 10px;
        display: inline-block;
        overflow: hidden;
        width: 50px;
        transition: all 250ms;
    }
    .da-membersWrap div[class*='members-'] div[class^='memberO'] .da-activityIcon { margin: -4px 0 0 -5px; }
    .da-membersWrap div[class*='members-'] .da-member:hover .da-activityText strong { max-height: 100px; }
    .da-membersWrap div[class*='members-'] .da-member:hover { background: rgba(115, 139, 215, 0.15) !important; }
    .da-membersWrap div[class*='members-'] .da-member.popout-open { background: rgba(115, 139, 215, 0.25) !important; }
    .da-membersWrap div[class*='members-'] .da-member.popout-open:hover { background: rgba(115, 139, 215, 0.35); }

    .da-membersWrap div[class*='members-'] div[class^='memberO'] {
        color: hsla(0,0%,100%,.9) !important;
        padding: 1px 0 1px 10px;
        box-sizing: border-box;
        margin: 0 0 5px 0;
        position: relative;
        width: 110px;
        height: auto;
        overflow: visible;
    }

    .da-membersWrap div[class*='members-'] div[class^='memberO'] .da-memberInner {
        width: 80px;
        padding: 3px 0 0 6px;
        box-sizing: border-box;
    }

    .da-membersWrap div[class*='members-'] div[class^='memberO'] .da-content {
        padding: 0;
        margin: 0;
    }

    .da-membersWrap div[class*='members-'] div[class^='memberO'] .da-username[style*="color:#010000"] { color: #fff !important; }

    .da-membersWrap div[class*='members-'] div[class^='memberO'] .da-nameTag {
        overflow: visible;
    }

    .da-membersWrap div[class*='members-'] div[class^='memberO'] .da-nameTag .da-botTag {
        display: block !important;
        position: absolute;
        left: 15px;
        z-index: 2;
        font-size: 8px !important;
        top: 65%;
        padding: 0 2px;
        height: 15px;
    }

    .da-membersWrap div[class*='members-'] div[class^='memberO'] + h2 {
        margin-top: 20px;
    }

    /* User image @ channel's user list */
    .da-membersWrap div[class*='members-'] .da-avatarWrapper {
        width: 20px;
        height: 20px;
        margin-right: 0;
        position: relative;
        z-index: 2;
    }

    /* .da-membersWrap div[class*='members-'] .da-avatarWrapper .da-wrapper, */
    .da-membersWrap div[class*='members-'] .da-avatarWrapper div[class^='image-'] {
        width: 20px;
        height: 20px;
    }

    /* Online status indicator */
    .da-membersWrap div[class*='members-'] .da-avatarWrapper div[class*='status-'] {
        top: 45%;
        right: 5px;
        border: 2px solid #1c1e22;
        z-index: 3;
    }

    .da-membersWrap div[class*='members-'] .da-member.memberOffline::before,
    .da-membersWrap div[class*='members-'] .da-member.memberOffline::after { display: none !important; }

    .da-membersWrap div[class*='members-'] .da-member.memberOffline .da-avatarWrapper {
        height: 0;
        width: 0;
        background-size: 0 0;
    }

    /* Typing indicator */
    .status-typing {
        width: 26px !important;
        right: -11px !important;
        overflow: hidden;
        right: -5px !important;
    }


/******************************* Search tab **********************************/


    .search-results-wrap {
        background-color: rgb(22,22,22) !important;
    }

    .search-results-wrap .scroller-wrap .scroller {
        padding: 10px !important;
    }

    .search-results-wrap .search-header {
        background-color: rgba(0,0,0,0.05) !important;
        box-shadow: 0 1px 2px rgba(200,200,200,.3) !important;
    }

    .search-result {
        border: solid rgba(255,255,255,0.1) !important;
        border-width: 0 0 1px !important;
    }

    .search-results-wrap .search-result:before {
        background-image: none !important;
    }

    .search-results-wrap .search-result:after {
        background-image: none !important;
    }

    .search-results-wrap .search-result .hit {
        box-shadow: none !important;
        background-color: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.2) !important;
    }

    .search-results-wrap .search-result.expanded .search-result-message.hit {
        background-color: rgb(35,35,35) !important;
    }

    .search-results-wrap .channel-separator {
        text-align: center !important;
    }

    .search-results-wrap .channel-separator .channel-name {
        background-color: transparent !important;
        color: #738bd7 !important;
    }

    .search-results-wrap .action-buttons .jump-button {
        background-color: #738bd7 !important;
    }

/******************************* Friends tab **********************************/

    #friends .friends-table { background: rgb(17,17,17); margin-top: 0; }
    #friends .friends-table .friends-table-header { background: rgb(22,22,22); }

    #friends > div:first-child,
    #friends .friends-table .friends-table-header,
    #friends .friends-table .friends-row + .friends-row {
        border: none;
    }

    #friends > div:first-child {
        height: 48px;
        background: rgb(27,27,27) !important;
        border-bottom: none !important;
    }

    #friends .friends-table .friends-row {
        height: 45px !important;
        padding-left: 15px;
        margin-left: 0;
        padding-right: 12px;
        margin-right: 0;
        transition: padding 150ms;
    }

    #friends .friends-table .friends-row:hover {
        margin: 0 0;
        padding: 0 0;
        padding-left: 20px !important;
    }

    .private-channels .channel {
        padding-left: 6px;
        padding-right: 6px;
    }
    .private-channels .channel a {
        padding: 6px;
        margin: 1px 0 !important;
    }
    .private-channels .channel.selected a,
    .private-channels .channel:hover a {
        background-color: rgb(42,47,47);
    }
    .private-channels .channel a .da-wrapper,
    .private-channels .channel a div[class^='avatar'] {
        width: 25px;
        height: 25px;
        background-size: 25px;
        border-radius: 50%;
        margin-right: 8px;
    }
    .private-channels .channel a .channel-game > span,
    .private-channels .channel a .channel-game > span { display: none !important; }
    .private-channels .channel a .channel-name { max-height: 25px; transition: all 150ms; font-size: 14px !important; }
    .private-channels .channel a:hover .channel-name { max-height: 150px !important; }
    .private-channels .channel a .channel-game strong span { font-size: 9px !important; }
    .private-channels .channel a .channel-activity { font-size: 13px !important; }

    .friends-table .messages .message-group.compact .user-name,
    .messages-wrapper .messages .message-group.compact .user-name {
        color: #f9f9f9;
    }

    .friends-table .messages .message-group .comment .markup:not([class*='embed']) code.inline,
    .friends-table .messages .message-group .comment .markup:not([class*='embed']) pre code,
    .messages-wrapper .messages .message-group .comment .markup:not([class*='embed']) code.inline {
        background: rgb(27,27,27) !important;
    }

    .friends-table .messages .message-group.compact .timestamp,
    .messages-wrapper .messages .message-group.compact .timestamp {
        color: rgba(255, 255, 255, 0.2) !important;
    }

    .friends-table .messages .message-group.compact .timestamp:hover,
    .messages-wrapper .messages .message-group.compact .timestamp:hover {
        color: #99aab5 !important;
    }
    
    .private-channel-call > div {
        background: rgb(19,19,19) !important;
        border-bottom: 2px solid rgb(22,22,22);
    }

/********************************* Activity feed *********************************/

    .da-activityFeed {
        background: rgb(17,17,17) !important;
    }

    .da-activityFeed .da-dock .da-smallCarousel,
    .da-activityFeed .da-dock .da-smallCarousel .da-article {
        height: 180px;
    }

    .da-activityFeed .da-dock .da-dockItem {
        height: 90px;
        width: 80px;
    }
    .da-activityFeed .da-dock .da-dockItem:hover {
        background-color: rgb(32,32,32);
    }

    .da-activityFeed .da-dock .da-dockItemText {
        font-size: 13px !important;
    }

    .da-activityFeed .da-dock .da-dockIcon {
        width: 30px;
        height: 30px;
    }
    .da-activityFeed .da-dock .da-dockItemPlay {
        height: 26px;
        min-height: 26px;
        min-width: 50px;
    }
    .da-activityFeed .da-dock .da-dockItemPlay .da-contents {
        font-size: 14px !important;
    }

    .da-activityFeed div[class*='cardHeader'] {
        padding: 10px;
        background-color: rgb(22,22,22) !important;
    }

    .da-activityFeed .da-gameIcon {
        width: 30px;
        height: 30px;
    }

    .da-activityFeed .da-cardBody {
        background-color: rgb(27,27,27) !important;
        padding: 0;
    }

    /* "Now playing" cards */
    .da-activityFeed .da-game {
        padding: 10px;
    }

    /* "What's new" cards (identified by the .da-card element not having a marginTop20 class */
    .da-activityFeed .da-card:not([class*='marginTop']) .da-cardBody,
    .da-activityFeed .da-card:not([class*='marginTop']) .da-game {
        padding: 10px 10px 0;
    }

    .da-activityFeed .da-card:not([class*='marginTop']) .da-game {
        padding: 10px 10px 0;
        background-color: rgb(27,27,27) !important;
    }

    .da-activityFeed div[class*='card'] .da-player {
        padding-bottom: 10px;
        border-bottom-color: rgb(37,37,37);
    }

    .da-activityFeed .da-avatar,
    .da-activityFeed .da-image {
        height: 30px;
        width: 30px;
    }

    .da-activityFeed div[class*='card'] .da-username,
    .da-activityFeed div[class*='card'] .da-discriminator,
    .da-activityFeed .da-gameName {
        font-size: 14px !important;
    }

    .da-activityFeed div[class*='card'] .da-playTime {
        font-size: 13px !important;
    }

    .da-activityFeed div[class*='card'] button.da-lookFilled {
        padding: 2px 10px;
        height: 26px;
        min-height: 26px;
        min-width: 60px;
    }
    .da-activityFeed div[class*='card'] button.da-lookFilled .da-contents {
        font-size: 14px !important;
    }

    .da-activityFeed div[class*='card'] .da-player + .da.player {
        padding-top: 10px;
    }

    .da-activityFeed div[class*='card'] .da-playerBottomPadding {
        padding-bottom: 10px;
    }

    .da-activityFeed div[class*='card'] .da-playerBottomPadding .da-sectionTitle {
        font-size: 13px !important;
        padding: 10px 0 0;
    }

    .da-activityFeed div[class*='card'] .da-playerBottomPadding .da-sectionLine {
        background-color: rgb(42,42,42);
    }

    .da-activityFeed div[class*='card'] .da-overflownPlayers {
        margin-top: 10px;
    }

    .da-activityFeed div[class*='card'] .da-news .da-body div {
        font-size: 14px !important;
    }


/********************************* Settings *********************************/

    .channel-notification-settings .flex-spacer {
        background: initial !important;
    }


/***************************** Modal (channel description) **************************/

    /* Header */
    .markdown-modal .markdown-modal-header {
        margin: 0;
        padding: 15px;
    }

    /* Close btn */
    .markdown-modal .markdown-modal-header .markdown-modal-close {
        top: 40%;
    }

    /* Content */
    .markdown-modal .scroller-wrap .scroller {
        padding: 16px 16px 32px;
    }


/********************* BetterDiscord Minimal Mode support **********************/

    .bd-minimal .guilds-wrapper { width: 45px !important; }
    .bd-minimal #bd-pub-li { line-height: 20px !important; }
    .bd-minimal .guilds .friends-icon {
        top: 0;
        left: 0;
    }

    .bd-minimal .guilds .friends-icon, .bd-minimal .guilds .guild, .bd-minimal .guilds .guild .da-avatarWrapper,.bd-minimal .guilds .guild .guild-inner, .bd-minimal .guilds .guild .guild-inner a {
        width: 20px !important;
        height: 20px !important;
        background-size: 100% !important;
        font-size: 15px !important;
        line-height: 20px !important;
    }

    .bd-minimal .guilds .friends-online {
        width: 20px !important;
        height: 20px !important;
        line-height: 20px !important;
        margin-left: -5px;
    }

    .bd-minimal .guilds .guild.selected .guild-inner::before,
    .bd-minimal .guilds .guild:hover .guild-inner::before {
        height: 24px !important;
        width: 20px !important;
        left: -65px !important;
        top: 0;
        margin-top: 0;
    }

    /* Unread messages icon */
    .guild.unread::before { display: none; }

    .bd-minimal .theme-dark .comment { border-left: none; }

    .bd-minimal .da-membersWrap { width: 80px; }
    .bd-minimal .da-membersWrap div[class*='members-'] { width: 80px; }
    .bd-minimal .da-membersWrap div[class*='members-'] div[class^='memberO'] { padding: 0; }
    .bd-minimal .da-membersWrap div[class*='members-'] div[class^='memberO'] .da-memberInner { padding: 1px 8px; }

    /* User list online status indicator */
    .bd-minimal .da-membersWrap div[class*='members-'] .da-avatarWrapper .status { top: 11px !important; }

    .bd-minimal .account .username { display: block; }

    .bd-minimal .da-membersWrap div[class*='members-'] .da-avatarWrapper .status-typing {	width: 17px !important;	}



/********************************* Other BetterDiscord overwrites *********************************/

    /* BetterDiscord Public servers button */
    #bd-pub-li {
        line-height: 35px !important;
        margin: 5px 0 !important;
    }
    #bd-pub-li .guild-inner,
    #bd-pub-button {
        line-height: 35px !important;
        height: 35px !important;
        font-size: 0.8rem !important;
    }

    #bd-ps-header { height: 40px; }
    #bd-ps-header h2, #bd-ps-header span { line-height: 40px; }

    #bd-ps-body { top: 41px; }
    #bd-ps-body table tr, #bd-ps-body table th { height: 40px; }
    #bd-ps-body tr td button { margin-top: 1px !important; }


/****************************************** Animations *****************************************/

@-webkit-keyframes zoomAppear {
    0% 		{ transform: scale(0); }
    /*75% 	{ transform: scale(1.4); }*/
    100% 	{ transform: scale(1); }
}
